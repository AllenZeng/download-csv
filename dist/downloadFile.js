"use strict";var detectionClientType=require("./detectionClientType");module.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?"export.csv":arguments[1];if(!e)return 0;var n=detectionClientType(),o="\ufeff",c="data:attachment/csv;charset=utf-8,"+o+encodeURIComponent(e);if(window.Blob&&window.URL&&window.URL.createObjectURL){var a=new Blob([o+e],{type:"text/csv"});c=URL.createObjectURL(a)}if("IE"===n.name&&Number(n.version)<10){var d=window.top.open("about:blank","_blank");d.document.write("sep=,\r\n"+c),d.document.close(),d.document.execCommand("SaveAs",!0,t),d.close()}if("Safari"===n.name){var i=document.createElement("a");i.id="csvDwnLink",document.body.appendChild(i),window.URL=window.URL||window.webkitURL;var r="\ufeff"+e,m="data:attachment/csv;charset=utf-8,"+encodeURIComponent(r);document.getElementById("csvDwnLink").setAttribute("href",m),document.getElementById("csvDwnLink").setAttribute("download",t),document.getElementById("csvDwnLink").click(),document.body.removeChild(i),alert("文件导出成功，请修改文件后缀为 .csv 后使用")}if("Firefox"===n.name){var l=document.createElement("a");l.download=t,l.target="_blank",l.href=c;var v=document.createEvent("MouseEvents");v.initEvent("click",!0,!0),l.dispatchEvent(v)}var u=document.createElement("a");u.download=t,u.href=c,u.click()};